## Power dashboard

title: Power
icon: mdi:power-plug
path: power

cards:
  - type: custom:layout-card
    layout: vertical
    cards:
      - type: custom:apexcharts-card
        span:
          end: day
        experimental:
          color_threshold: true
        graph_span: 7d
        locale: 'nl'
        apex_config:
          chart:
            type: area
          stroke:
            show: true
            width: 1
            curve: smooth
          legend:
            show: true
          xaxis:
            labels:
              format: ddd
          yaxis:
            min: 0
            forceNiceScale: true
        header:
          title: Productie zonnepanelen
          show: true
          show_states: true
          colorize_states: true
        series:
          - entity: sensor.solaredge_energy_this_day
            type: column        
            show:
              datalabels: true
              name_in_header: false
            group_by:
              func: max
              duration: 24h
            color_threshold:
              - value: 4
                color: '#000000'
              - value: 6
                color: '#CC0000'
              - value: 8
                color: '#FFA500'
              - value: 10
                color: '#006400'
              - value: 16
                color: '#82D305'
       
      - type: custom:bar-card    
        entity: sensor.expected_solar_energy_percentage
        positions:
          icon: inside
          indicator: 'off'
          name: inside
        align: split
        show_icon: true
        color: '#00ba6a'
        icon: mdi:solar-power
        name: Productie % van verwacht deze maand
        style: |-
          bar-card-name {
            margin-right: 0px;
            font-size: 16px;
          }        
          .card-header {
              font-size: 20px;
              padding: 8px 20px 20px 20px;
            }                
                
      - type: custom:apexcharts-card
        locale: 'nl'
        header:
          title: Vermogen
          show: true
          show_states: true
          colorize_states: true
        experimental:
          brush: true 
        graph_span: 12h 
        brush:
          selection_span: 12h
        apex_config:
          yaxis:
            forceNiceScale: true
            min: 0
            max: 4
        series:
          - entity: sensor.solaredgemb_ac_power_kw
            name: Solar
            color: orange
            opacity: 0.1
            type: area
            stroke_width: 1
            show:
              name_in_header: false                   
          - entity: sensor.solaredgemb_ac_power_kw
            color: orange          
            opacity: 0.5
            stroke_width: 2
            float_precision: 0
            type: area
            show:
              # in_brush: set it to true and the serie will show up in the brush
              in_brush: true
              # add this also if you want your serie to only show up in the brush
              in_chart: false





